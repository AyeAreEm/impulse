@import "base/dynamic.imp";

_ main :: () {
    let nums: dyn.new(int);
    defer dyn.dealloc(int &nums);

    loop (i < 50) [+] {
        dyn.push(int &nums [i + 1]);
    }

    # this line below wouldn't work before because
    # it uses a option[T] which wouldn't be generated with the new system
    # now fixed
    let first: dyn.remove(int &nums 0);
    for (nums) [num] {
        println("%d" num);
    }
}
